<p style="color: green"><%= notice %></p>

<% content_for :title, "Bins" %>

<h1>My Bins</h1>

<% if @bins.any? %>
  <div class="bins-container">
    <% @bins.each do |bin| %>
      <div class="bin-card">
        <div class="bin-header">
          <h2 class="bin-title"><%= bin.name %></h2>
          <%= button_to "❌", bin, method: :delete, data: { confirm: "Are you sure?" }, class: "delete-btn" %>
        </div>
        
        <p class="bin-info">📍 <%= bin.location %></p>
        <p class="bin-info">📦 <%= bin.category_name %></p>
        
        <div class="bin-image-container">
          <% if bin.bin_picture.attached? %>
            <%= image_tag bin.bin_picture.variant(resize_to_limit: [60, 60]).processed, class: "bin-image", alt: "Bin Picture" %>
          <% else %>
            <%= image_tag "default-bin.jpg", class: "bin-image", alt: "Default Bin Picture" %>
          <% end %>
          <%= link_to "✏️", edit_bin_path(bin), class: "edit-btn" %>
        </div>
      </div>
    <% end %>
  </div>
<% else %>
  <p>You have no bins yet.</p>
<% end %>

<div class="actions">
  <%= link_to "Create New Bin", new_bin_path, class: "btn btn-primary" %>
  <%= link_to "Back to Dashboard", dashboard_path, class: "btn btn-secondary" %>
</div>
